{"id":"cachyos-2wd","title":"Mask systemd-homed and related services in rootfs","description":"Mask systemd-homed.service, systemd-homed-activate.service, systemd-userdbd.service, and systemd-userdbd.socket to prevent boot delays and PAM errors. These services are not needed in WSL environment.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-11-15T15:16:16.2997412-06:00","updated_at":"2025-11-15T17:01:16.3062258-06:00","closed_at":"2025-11-15T17:01:16.3062258-06:00"}
{"id":"cachyos-93g","title":"Disable pam_systemd_home in PAM configuration","description":"pam_systemd_home causes 'Failed to connect to system bus' errors during login, password changes, and sudo. Comment out all pam_systemd_home lines in /etc/pam.d/system-auth before packaging.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-11-15T15:16:06.1426548-06:00","updated_at":"2025-11-15T17:01:09.7708133-06:00","closed_at":"2025-11-15T17:01:09.7708133-06:00"}
{"id":"cachyos-dh9","title":"Mask systemd-firstboot.service in rootfs","description":"systemd-firstboot.service blocks WSL boot by waiting for interactive input (locale, keymap, timezone, root password). This causes /sbin/init to timeout after 10 seconds. Must be masked in the rootfs before packaging.","status":"closed","issue_type":"bug","created_at":"2025-11-15T15:15:58.6627658-06:00","updated_at":"2025-11-15T17:01:21.2609236-06:00","closed_at":"2025-11-15T17:01:21.2609236-06:00"}
{"id":"cachyos-gax","title":"Mask systemd user session services in rootfs","description":"Mask user@.service, systemd-logind.service, and systemd-logind-varlink.socket to eliminate 'Timed out waiting for user session' warnings. WSL interop layer doesn't properly support systemd user sessions.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-11-15T15:16:23.4470258-06:00","updated_at":"2025-11-15T17:01:16.3088122-06:00","closed_at":"2025-11-15T17:01:16.3088122-06:00"}
{"id":"cachyos-r1i","title":"Disable pam_systemd in /etc/pam.d/system-login","description":"Comment out the '-session optional pam_systemd.so' line in /etc/pam.d/system-login to prevent user session timeout warnings.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-11-15T15:16:30.0928734-06:00","updated_at":"2025-11-15T17:01:09.773401-06:00","closed_at":"2025-11-15T17:01:09.773401-06:00"}
{"id":"cachyos-a1g","title":"Compare CachyOS configuration with official Arch Linux WSL","description":"Arch Linux WSL only masks systemd-firstboot.service and leaves systemd-homed, systemd-userdbd, and user session services enabled. They don't disable pam_systemd_home. We should test if we can unmask services to match Arch's minimal approach.","notes":"Successfully tested CachyOS-WSL configuration:\n✓ Masked their exact 14 services\n✓ Restored PAM to defaults (no modifications)\n✓ Boot time: 429ms (well under 10s timeout)\n✓ No 'Failed to start systemd user session' warnings\n✓ System fully functional\n\nServices masked: systemd-resolved, systemd-networkd, NetworkManager, getty.target, systemd-homed, systemd-userdbd, systemd-firstboot, systemd-nsresourced, systemd-tmpfiles-*, tmp.mount\n\nMinor errors remaining (acceptable):\n- pam_lastlog2 database errors (last login tracking)\n- User Manager for UID 0 spawn errors (cosmetic)\n\nRecommendation: Use this configuration for distribution build","status":"closed","issue_type":"task","created_at":"2025-11-15T15:19:38.386468-06:00","updated_at":"2025-11-15T17:01:01.5879012-06:00","closed_at":"2025-11-15T17:01:01.5879012-06:00"}
{"id":"cachyos-cpc","title":"Adopt okrc/CachyOS-WSL service masking approach","description":"Use the proven CachyOS-WSL configuration from okrc repository. Mask their 14 services in rootfs but do NOT modify PAM configuration. Their approach is middle ground: more conservative than Arch (1 service) but simpler than our current fix (17 + PAM edits). Reference: https://gitee.com/okrc/CachyOS-WSL/blob/main/scripts/rootfs-gen.sh","status":"closed","issue_type":"task","created_at":"2025-11-15T15:29:28.0858239-06:00","updated_at":"2025-11-15T17:01:26.4817093-06:00","closed_at":"2025-11-15T17:01:26.4817093-06:00","dependencies":[{"issue_id":"cachyos-cpc","depends_on_id":"cachyos-a1g","type":"blocks","created_at":"2025-11-15T15:29:39.3476372-06:00","created_by":"daemon"}]}
{"id":"cachyos-pg8","title":"Build updated WSL distribution with systemd fixes","description":"Rebuild the .wsl distribution file incorporating all systemd/PAM fixes discovered during testing. Package and test locally before release.","status":"open","issue_type":"task","created_at":"2025-11-15T15:16:38.1187093-06:00","updated_at":"2025-11-15T15:16:38.1187093-06:00","dependencies":[{"issue_id":"cachyos-pg8","depends_on_id":"cachyos-dh9","type":"blocks","created_at":"2025-11-15T15:16:46.3739213-06:00","created_by":"daemon"},{"issue_id":"cachyos-pg8","depends_on_id":"cachyos-93g","type":"blocks","created_at":"2025-11-15T15:16:46.4439591-06:00","created_by":"daemon"},{"issue_id":"cachyos-pg8","depends_on_id":"cachyos-2wd","type":"blocks","created_at":"2025-11-15T15:16:46.5151484-06:00","created_by":"daemon"},{"issue_id":"cachyos-pg8","depends_on_id":"cachyos-gax","type":"blocks","created_at":"2025-11-15T15:16:46.5838584-06:00","created_by":"daemon"},{"issue_id":"cachyos-pg8","depends_on_id":"cachyos-r1i","type":"blocks","created_at":"2025-11-15T15:16:46.6526477-06:00","created_by":"daemon"},{"issue_id":"cachyos-pg8","depends_on_id":"cachyos-cpc","type":"blocks","created_at":"2025-11-15T15:29:39.2763058-06:00","created_by":"daemon"}]}
