{"id":"cachyos-ofp","title":"Update documentation with shell information","description":"Add comprehensive shell configuration section to README.md.\n\nContent to add:\n- Explain Fish is default with CachyOS customizations\n- List all included shells: Fish (default), Zsh, Bash\n- Document shell switching: chsh -s /usr/bin/{fish,zsh,bash}\n- Link to CachyOS Fish config features\n- Note about Nerd Fonts for optimal experience\n- Add to project structure showing new config files","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T22:04:29.4146577-06:00","updated_at":"2025-11-16T22:10:05.2313973-06:00","closed_at":"2025-11-16T22:10:05.2313973-06:00","dependencies":[{"issue_id":"cachyos-ofp","depends_on_id":"cachyos-mwr","type":"blocks","created_at":"2025-11-16T22:04:48.7107802-06:00","created_by":"daemon"}]}
{"id":"cachyos-r1i","title":"Disable pam_systemd in /etc/pam.d/system-login","description":"Comment out the '-session optional pam_systemd.so' line in /etc/pam.d/system-login to prevent user session timeout warnings.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-11-15T15:16:30.0928734-06:00","updated_at":"2025-11-15T17:01:09.773401-06:00","closed_at":"2025-11-15T17:01:09.773401-06:00"}
{"id":"cachyos-97x","title":"Document WSL kernel architecture vs bare metal","description":"WSL uses Microsoft-provided kernel (6.6.x-microsoft-standard-WSL2), not CachyOS kernels. All WSL distributions share same kernel. CachyOS provides optimized USERSPACE (libraries, utilities, apps) but not kernel. Installing linux-cachyos packages would waste space. This is correct architecture - document in README.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-16T20:24:09.763907-06:00","updated_at":"2025-11-16T20:24:16.5308836-06:00","closed_at":"2025-11-16T20:24:16.5308836-06:00"}
{"id":"cachyos-dh9","title":"Mask systemd-firstboot.service in rootfs","description":"systemd-firstboot.service blocks WSL boot by waiting for interactive input (locale, keymap, timezone, root password). This causes /sbin/init to timeout after 10 seconds. Must be masked in the rootfs before packaging.","status":"closed","issue_type":"bug","created_at":"2025-11-15T15:15:58.6627658-06:00","updated_at":"2025-11-15T17:01:21.2609236-06:00","closed_at":"2025-11-15T17:01:21.2609236-06:00"}
{"id":"cachyos-6ye","title":"Generate checksums in build process","description":"Generate SHA256 and SHA512 checksums for the .wsl distribution file to allow users to verify download integrity.","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-16T23:11:03.0032971-06:00","updated_at":"2025-11-16T23:11:03.0032971-06:00"}
{"id":"cachyos-93g","title":"Disable pam_systemd_home in PAM configuration","description":"pam_systemd_home causes 'Failed to connect to system bus' errors during login, password changes, and sudo. Comment out all pam_systemd_home lines in /etc/pam.d/system-auth before packaging.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-11-15T15:16:06.1426548-06:00","updated_at":"2025-11-15T17:01:09.7708133-06:00","closed_at":"2025-11-15T17:01:09.7708133-06:00"}
{"id":"cachyos-1t3","title":"Use xz compression for distribution releases","description":"Switch from gzip to xz compression for significantly smaller distribution file size. WSL supports .tar.xz format.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T23:11:28.4012109-06:00","updated_at":"2025-11-16T23:11:28.4012109-06:00"}
{"id":"cachyos-8wb","title":"Windows Terminal profile not created during test installation","description":"Windows Terminal doesn't auto-create profiles when distributions are installed via registry override test method. Profile will be created for normal installations (.wsl file or Store). Configuration in wsl-distribution.conf is correct. Users can manually add profile in Settings or reinstall from packaged .wsl file.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-16T20:32:14.9732496-06:00","updated_at":"2025-11-16T20:32:23.3963628-06:00","closed_at":"2025-11-16T20:32:23.3963628-06:00"}
{"id":"cachyos-cpc","title":"Adopt okrc/CachyOS-WSL service masking approach","description":"Use the proven CachyOS-WSL configuration from okrc repository. Mask their 14 services in rootfs but do NOT modify PAM configuration. Their approach is middle ground: more conservative than Arch (1 service) but simpler than our current fix (17 + PAM edits). Reference: https://gitee.com/okrc/CachyOS-WSL/blob/main/scripts/rootfs-gen.sh","status":"closed","issue_type":"task","created_at":"2025-11-15T15:29:28.0858239-06:00","updated_at":"2025-11-15T17:01:26.4817093-06:00","closed_at":"2025-11-15T17:01:26.4817093-06:00","dependencies":[{"issue_id":"cachyos-cpc","depends_on_id":"cachyos-a1g","type":"blocks","created_at":"2025-11-15T15:29:39.3476372-06:00","created_by":"daemon"}]}
{"id":"cachyos-3hx","title":"Fix Windows Terminal profile template format","description":"terminal-profile.json was using incorrect flat format instead of required Windows Terminal fragment format with profiles/schemes arrays. Fixed to match Microsoft's documented structure. This will enable automatic profile creation during wsl --install --from-file.","status":"closed","issue_type":"bug","created_at":"2025-11-16T20:36:05.464247-06:00","updated_at":"2025-11-16T20:36:14.1896023-06:00","closed_at":"2025-11-16T20:36:14.1896023-06:00"}
{"id":"cachyos-8ha","title":"Document why cachyos-settings is not included","description":"cachyos-settings provides desktop/gaming optimizations (udev rules, I/O schedulers, ZRAM, GPU management, audio tuning). Not applicable to WSL: no direct hardware, Windows manages memory/storage/GPU. Would waste space and potentially conflict. WSL benefits come from optimized userspace packages instead.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-16T20:27:14.9339003-06:00","updated_at":"2025-11-16T20:27:29.7951168-06:00","closed_at":"2025-11-16T20:27:29.7951168-06:00"}
{"id":"cachyos-gns","title":"Add X11 socket tmpfiles.d configuration","description":"Add systemd tmpfiles.d configuration to symlink WSLg X11 socket directory. Ensures X11 apps work properly with WSLg.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T23:11:18.6722129-06:00","updated_at":"2025-11-16T23:11:18.6722129-06:00"}
{"id":"cachyos-a1g","title":"Compare CachyOS configuration with official Arch Linux WSL","description":"Arch Linux WSL only masks systemd-firstboot.service and leaves systemd-homed, systemd-userdbd, and user session services enabled. They don't disable pam_systemd_home. We should test if we can unmask services to match Arch's minimal approach.","notes":"Successfully tested CachyOS-WSL configuration:\n✓ Masked their exact 14 services\n✓ Restored PAM to defaults (no modifications)\n✓ Boot time: 429ms (well under 10s timeout)\n✓ No 'Failed to start systemd user session' warnings\n✓ System fully functional\n\nServices masked: systemd-resolved, systemd-networkd, NetworkManager, getty.target, systemd-homed, systemd-userdbd, systemd-firstboot, systemd-nsresourced, systemd-tmpfiles-*, tmp.mount\n\nMinor errors remaining (acceptable):\n- pam_lastlog2 database errors (last login tracking)\n- User Manager for UID 0 spawn errors (cosmetic)\n\nRecommendation: Use this configuration for distribution build","status":"closed","issue_type":"task","created_at":"2025-11-15T15:19:38.386468-06:00","updated_at":"2025-11-15T17:01:01.5879012-06:00","closed_at":"2025-11-15T17:01:01.5879012-06:00"}
{"id":"cachyos-99l","title":"Add Fish and Zsh packages to rootfs build","description":"Add all required packages for Fish and Zsh shells with CachyOS configurations to build/packages.list.\n\nPackages to add:\n- Fish: fish, fisher, cachyos-fish-config, fish-autopair, fish-pure-prompt\n- Zsh: zsh, cachyos-zsh-config, oh-my-zsh-git, zsh-theme-powerlevel10k, zsh-autosuggestions, zsh-completions, zsh-history-substring-search, zsh-syntax-highlighting\n- Utilities: bat, eza, fastfetch, fzf, tealdeer, expac, pkgfile\n- Fonts: ttf-fantasque-nerd\n\nKeep existing bash and bash-completion.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T22:04:23.0153293-06:00","updated_at":"2025-11-16T22:07:25.9073814-06:00","closed_at":"2025-11-16T22:07:25.9073814-06:00"}
{"id":"cachyos-gax","title":"Mask systemd user session services in rootfs","description":"Mask user@.service, systemd-logind.service, and systemd-logind-varlink.socket to eliminate 'Timed out waiting for user session' warnings. WSL interop layer doesn't properly support systemd user sessions.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-11-15T15:16:23.4470258-06:00","updated_at":"2025-11-15T17:01:16.3088122-06:00","closed_at":"2025-11-15T17:01:16.3088122-06:00"}
{"id":"cachyos-pg8","title":"Build updated WSL distribution with systemd fixes","description":"Rebuild the .wsl distribution file incorporating all systemd/PAM fixes discovered during testing. Package and test locally before release.","status":"closed","issue_type":"task","created_at":"2025-11-15T15:16:38.1187093-06:00","updated_at":"2025-11-15T17:08:20.0033718-06:00","closed_at":"2025-11-15T17:08:20.0033718-06:00","dependencies":[{"issue_id":"cachyos-pg8","depends_on_id":"cachyos-dh9","type":"blocks","created_at":"2025-11-15T15:16:46.3739213-06:00","created_by":"daemon"},{"issue_id":"cachyos-pg8","depends_on_id":"cachyos-93g","type":"blocks","created_at":"2025-11-15T15:16:46.4439591-06:00","created_by":"daemon"},{"issue_id":"cachyos-pg8","depends_on_id":"cachyos-2wd","type":"blocks","created_at":"2025-11-15T15:16:46.5151484-06:00","created_by":"daemon"},{"issue_id":"cachyos-pg8","depends_on_id":"cachyos-gax","type":"blocks","created_at":"2025-11-15T15:16:46.5838584-06:00","created_by":"daemon"},{"issue_id":"cachyos-pg8","depends_on_id":"cachyos-r1i","type":"blocks","created_at":"2025-11-15T15:16:46.6526477-06:00","created_by":"daemon"},{"issue_id":"cachyos-pg8","depends_on_id":"cachyos-cpc","type":"blocks","created_at":"2025-11-15T15:29:39.2763058-06:00","created_by":"daemon"}]}
{"id":"cachyos-35h","title":"Create WSL-specific Fish and Zsh config files","description":"Create configuration files that handle WSL-specific behavior (starting in home directory instead of Windows mount points).\n\nFiles to create:\n- config/fish-wsl.fish: Fish shell WSL path handling\n- config/zsh-wsl.zsh: Zsh shell WSL path handling\n\nBoth should detect /mnt/* paths and cd to home directory.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T22:04:24.6117738-06:00","updated_at":"2025-11-16T22:07:46.7033103-06:00","closed_at":"2025-11-16T22:07:46.7033103-06:00"}
{"id":"cachyos-191","title":"Enable Arch mirrors in mirrorlist for pacman to work","description":"Mirrorlist has all servers commented out, causing 'no servers configured for repository' errors. Updated build-rootfs.sh to uncomment worldwide mirrors during build.","status":"closed","issue_type":"bug","created_at":"2025-11-16T20:04:09.4244148-06:00","updated_at":"2025-11-16T20:04:16.4387955-06:00","closed_at":"2025-11-16T20:04:16.4387955-06:00"}
{"id":"cachyos-zn6","title":"Test Fish/Zsh functionality in WSL","description":"Comprehensive testing of shell configurations in WSL environment.\n\nTest cases:\n1. Build new distribution and install\n2. Verify Fish starts by default\n3. Test WSL path handling (launch from Windows directory, should cd to ~)\n4. Verify Fish aliases work (ls → eza, update, cleanup, etc.)\n5. Test fastfetch greeting displays correctly\n6. Switch to Zsh: chsh -s /usr/bin/zsh, verify Powerlevel10k works\n7. Switch to Bash: chsh -s /bin/bash, verify fallback works\n8. Test all three shells handle /mnt/* paths correctly","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T22:04:31.0290734-06:00","updated_at":"2025-11-16T22:04:31.0290734-06:00","dependencies":[{"issue_id":"cachyos-zn6","depends_on_id":"cachyos-mwr","type":"blocks","created_at":"2025-11-16T22:04:50.1751452-06:00","created_by":"daemon"}]}
{"id":"cachyos-sq6","title":"Improve OOBE error handling with specific exit codes","description":"Enhance OOBE user creation with specific error code handling for useradd failures. Provide more informative error messages based on exit codes.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T23:11:17.7513336-06:00","updated_at":"2025-11-16T23:11:17.7513336-06:00"}
{"id":"cachyos-kgy","title":"Document why chwd is not included in WSL distribution","description":"chwd (CachyOS Hardware Detection) installs GPU drivers and hardware-specific packages. Not applicable to WSL: no direct hardware access, uses Windows drivers, cannot load kernel modules. Would waste disk space and potentially break WSLg. WSL optimizations focus on systemd, repos, and shell config instead.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-16T20:21:31.5020514-06:00","updated_at":"2025-11-16T20:21:38.1877517-06:00","closed_at":"2025-11-16T20:21:38.1877517-06:00"}
{"id":"cachyos-k0s","title":"CachyOS doesn't doesn't appear in Windows Terminal profiles","description":"The list of terminal profiles from the Windows Terminal does not include CachyOS","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-16T20:08:22.5463651-06:00","updated_at":"2025-11-16T20:08:22.5463651-06:00"}
{"id":"cachyos-mwr","title":"Modify OOBE to set Fish as default shell","description":"Update config/oobe.sh to set Fish as the default shell for new users.\n\nChanges:\n- Change --shell /bin/bash to --shell /usr/bin/fish (line 66)\n- Ensure Fish config directory ownership is correct\n- Add welcome message about shell switching options\n- Document how to switch: chsh -s /bin/bash or /usr/bin/zsh","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T22:04:27.8130181-06:00","updated_at":"2025-11-16T22:08:57.7843409-06:00","closed_at":"2025-11-16T22:08:57.7843409-06:00","dependencies":[{"issue_id":"cachyos-mwr","depends_on_id":"cachyos-99l","type":"blocks","created_at":"2025-11-16T22:04:45.8459713-06:00","created_by":"daemon"},{"issue_id":"cachyos-mwr","depends_on_id":"cachyos-j1w","type":"blocks","created_at":"2025-11-16T22:04:47.2771392-06:00","created_by":"daemon"}]}
{"id":"cachyos-j1w","title":"Update build script to install shell configs","description":"Modify build/build-rootfs.sh to copy WSL-specific shell configurations to /etc/skel during rootfs build.\n\nTasks:\n- Copy fish-wsl.fish to /etc/skel/.config/fish/conf.d/wsl.fish\n- Copy zsh-wsl.zsh to /etc/skel/.zshrc.d/wsl.zsh\n- Ensure proper directory structure and permissions\n- Make sure configs are sourced by default shell configs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T22:04:26.1725365-06:00","updated_at":"2025-11-16T22:08:18.1911899-06:00","closed_at":"2025-11-16T22:08:18.1911899-06:00","dependencies":[{"issue_id":"cachyos-j1w","depends_on_id":"cachyos-35h","type":"blocks","created_at":"2025-11-16T22:04:44.443584-06:00","created_by":"daemon"}]}
{"id":"cachyos-rej","title":"Implement automated build script with fakechroot/fakeroot","description":"Create scripts/build.sh to automate rootfs creation and tar packaging using fakechroot/fakeroot (no root required). Based on Arch Linux WSL build process.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-16T23:10:48.1329779-06:00","updated_at":"2025-11-16T23:10:48.1329779-06:00"}
{"id":"cachyos-h2a","title":"Create formal tar exclude list for packaging","description":"Create scripts/tar-exclude.txt with proper exclusions for virtual filesystems, runtime files, GPG keys, caches, and temporary files. Based on Arch Linux WSL approach.","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-16T23:10:47.1743475-06:00","updated_at":"2025-11-16T23:10:47.1743475-06:00"}
{"id":"cachyos-04s","title":"Configure WSL to start in Linux home directory by default","description":"WSL starts in Windows home directory (/mnt/c/Users/...) instead of Linux home (~). Updated OOBE script to add bashrc snippet that auto-changes to home directory when launched from Windows paths.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-16T19:50:38.7814253-06:00","updated_at":"2025-11-16T19:50:45.3793209-06:00","closed_at":"2025-11-16T19:50:45.3793209-06:00"}
{"id":"cachyos-wla","title":"Add UID existence check to OOBE script","description":"Add check at beginning of OOBE to see if UID 1000 already exists. If it does, display message and exit gracefully. Based on Fedora WSL approach.","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-16T23:10:33.8015576-06:00","updated_at":"2025-11-16T23:10:33.8015576-06:00"}
{"id":"cachyos-2wd","title":"Mask systemd-homed and related services in rootfs","description":"Mask systemd-homed.service, systemd-homed-activate.service, systemd-userdbd.service, and systemd-userdbd.socket to prevent boot delays and PAM errors. These services are not needed in WSL environment.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-11-15T15:16:16.2997412-06:00","updated_at":"2025-11-15T17:01:16.3062258-06:00","closed_at":"2025-11-15T17:01:16.3062258-06:00"}
{"id":"cachyos-t3b","title":"Document package selection philosophy","description":"Create docs/package-selection.md documenting what packages should be included in the distribution and why. Define essential, recommended, and optional package categories.","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-16T23:10:59.8259066-06:00","updated_at":"2025-11-16T23:10:59.8259066-06:00"}
{"id":"cachyos-vvn","title":"Add CachyOS optimized repositories to pacman.conf","description":"Currently only using standard Arch repos (core/extra). Need to add CachyOS optimized repos (cachyos-v3, cachyos-core-v3, cachyos-extra-v3, cachyos) for 5-20% performance improvement. Should be added BEFORE standard repos in pacman.conf and use /etc/pacman.d/cachyos-mirrorlist. Reference: https://wiki.cachyos.org/features/optimized_repos/","status":"closed","issue_type":"feature","created_at":"2025-11-16T20:14:41.6859951-06:00","updated_at":"2025-11-16T20:16:28.0010668-06:00","closed_at":"2025-11-16T20:16:28.0010668-06:00"}
